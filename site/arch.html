
  

  
  

  
  

  

  
  

  
  

  
  

  

  

  

  

  

  
  
  
  
      
  

      
      
      
      
      
      
        
         
      
      

      
      
      
      

      
      
      

      

  
  

  
  

   
   

   
   


    
	
	

    
    
      
	
	
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html>
      <head>
        
        
          <title>
            The Jakarta Pluto Site - 
          Pluto Project
        
          </title>
        
        
        
        <style type="text/css">
          @import url("./style/tigris.css");
          @import url("./style/maven.css");
        </style>
        
        
        
        
        
        <link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
        
          <meta name="author" content="Jean-Baptiste Joret"></meta>
          <meta name="email" content="unknown"></meta>
        
          <meta name="author" content="David H. DeWolf"></meta>
          <meta name="email" content="david.AT.daviddewolf.DOT.com"></meta>
        
        
        
        
      </head>

      <body class="composite">

        <div id="banner">
          <table border="0" width="100%" cellpadding="8" cellspacing="0">
            <tr>
              
              <td>
                
                
                  
                  
                  
                    
                  
                  
                  
                  
                  
                    
                  
                  <a href="http://jakarta.apache.org/">
                    <img border="0" alt="Apache Software Foundation" src="./images/jakarta-logo-blue.gif" align="left"></img>
                  </a>
                
              </td>

              
              <td>
                <div id="login" align="right">
                  
                  
                    
                    
                    
                      
                    

                    <a href="http://jakarta.apache.org/pluto/">
                      <img border="0" alt="jakarta-pluto" src="./images/pluto-feather.gif" align="right"></img>
                    </a>
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        <div id="breadcrumbs">
          <table border="0" width="100%" cellpadding="4" cellspacing="0">
            <tr>
              
                
                <td>Last published: 04 March 2004
                  | Doc for 1.0
                </td>
              
              <td>
                <div align="right">
                  
                  
                  
                    
    
    
      
      
      
      <a href="http://jcp.org/en/jsr/detail?id=168"><img class="handle" src="./images/none.png" alt=""></img>JSR 168</a>
      
    
  
                  
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        
        <table border="0" width="100%" cellpadding="8" cellspacing="0"> 
          <tr valign="top">
            <td width="20%" id="leftcol">
              <div id="navcolumn">
                

                
                  
    <div>
      <strong>General Information</strong>
      
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="index.html"><img class="handle" src="./images/none.png" alt=""></img>Overview</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="news.html"><img class="handle" src="./images/none.png" alt=""></img>News and Status</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="roadmap.html"><img class="handle" src="./images/none.png" alt=""></img>Roadmap</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="faq.html"><img class="handle" src="./images/none.png" alt=""></img>FAQs</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="wiki.html"><img class="handle" src="./images/none.png" alt=""></img>Wiki</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>SubProjects</strong>
      
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="multiproject/portlet-api/index.html"><img class="handle" src="./images/none.png" alt=""></img>Portlet API (JSR-168)</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="multiproject/pluto/index.html"><img class="handle" src="./images/none.png" alt=""></img>Portlet Container</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="multiproject/pluto-portal/index.html"><img class="handle" src="./images/none.png" alt=""></img>Portal Driver</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="multiproject/testsuite/index.html"><img class="handle" src="./images/none.png" alt=""></img>Test Suite</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>Getting Started</strong>
      
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="install.html"><img class="handle" src="./images/none.png" alt=""></img>Installation</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      		<b><a href="arch.html"><img class="handle" src="./images/none.png" alt=""></img>Architecture</a></b>
      	
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="Howto_use_the_Pluto_container.html"><img class="handle" src="./images/none.png" alt=""></img>Pluto in your portal</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="Howto_use_the_Pluto_portal.html"><img class="handle" src="./images/none.png" alt=""></img>Using the Pluto Portal</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="resources.html"><img class="handle" src="./images/none.png" alt=""></img>Resources</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
                

				
    <div>
      <strong>Project Documentation</strong>
      
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="index.html"><img class="handle" src="./images/none.png" alt=""></img>About jakarta-pluto</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    
	
	
	
	
	
		
		
          
		
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="project-info.html"><img class="handle" src="./images/collapsed.png" alt=""></img>Project Info</a>
      	
      </small>
	  
    </div>
  
    
    
    
    
	
	
	
	
	
		
		
          
		
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="maven-reports.html"><img class="handle" src="./images/collapsed.png" alt=""></img>Project Reports</a>
      	
      </small>
	  
    </div>
  
    
    
    
    
	
	
	
	
	
		   
	
    <div>
      <small>
      	
      	
      		<a href="http://maven.apache.org/development-process.html"><img class="handle" src="./images/none.png" alt=""></img>Development Process</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
                
                
                

                
                
                
                
                	<div style="margin-top: 20px; width: 100%; text-align: center;">
                		<a href="http://maven.apache.org/" title="Powered by Maven"><img style="border: 1px solid black" alt="Powered by Maven" src="./images/logos/maven-propaganda.png"></img></a>
                	</div>
                
              
                
              </div>
            </td>
            <td rowspan="2">
              <div id="bodycol">
                
                <div class="app">
                  
                  
    <div class="h3">
      
      
        <h3>
          <a name="Architecture Overview">Architecture Overview</a>
        </h3>
      
      
    <p>
      
     
    Let's begin by examining Pluto's architecture and underlying concepts.
   
     
    First, we briefly explain the portal that runs the RI, and see where 
   
     
    to find a portlet container inside a portal architecture. Next, we 
   
     
    investigate Pluto's architecture in detail. Last, we look at how it 
   
     
    solves one challenging item of the portlet container: portlet deployment.
   
     

   
    </p>
   
    <p>
      
    <strong>
      
     The Portal
   
    </strong>
   
     
   
   
    <blockquote>
      
     
   Pluto normally serves to show how the Portlet API works and 
   
     
   offers developers a working example platform from which they can test 
   
     
   their portlets. However, it's cumbersome to execute and test the portlet 
   
     
   container without a driver, in this case, the portal. Pluto's simple 
   
     
   portal component is built only on the portlet container's and the JSR 
   
     
   168's requirements. (In contrast, the more sophisticated, open source 
   
     
   Apache Jetspeed project concentrates on the portal itself rather than 
   
     
   the portlet container, and considers requirements from other groups.)
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   Figure 1 depicts the portal's basic architecture. The portal Web 
   
     
   application processes the client 
   
     request, retrieves the portlets on 
   
     
   the user's current page, and then calls the portlet container to 
   
     
   retrieve each portlet's content. The portal accesses the portlet 
   
     
   container with the Portlet Container Invoker API, representing the 
   
     
   portlet container's main interface supporting request-based methods 
   
     
   to call portlets from a portal's viewpoint. The container's user must 
   
     
   implement the portlet container's Container Provider SPI (Service 
   
     
   Provider Interface) callback interface to get portal-related 
   
     
   information. Finally, the portlet container calls all portlets 
   
     
   via the Portlet API.
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   
   
    <div align="center">
      
     
        
   
    <p>
      
    <a href="images/jw-0801-portal_arch.jpg">
    <img src="images/jw-0801-portal_arch-thumb.jpg" alt="Portal Architecture" height="160" width="250" border="0">
      
    </img>
   </a>
  
    </p>
   
     
        
   
    <p>
      
    <b>
      
    <i>
      
    <font size="-1">
      
     Figure 1. The simple portal included with Pluto. Click on the picture to enlarge it
   
    </font>
   
    </i>
   
    </b>
   
    </p>
   
     
   
   
    </div>
   
     
   
   
    </blockquote>
   
     

   
    </p>
   
    <p>
      
    <strong>
      
     The Portlet Container
   
    </strong>
   
     
   
   
    <blockquote>
      
     
   The portlet container, the portlets' runtime environment and a core
   
     
   component of each portal, requires knowledge about the portal itself 
   
     
   and must reuse common code from it. Consequently, the portlet 
   
     
   container remains completely separated from every other portal component.
   
     
   That said, you can embed the standalone portlet container in any portal 
   
     
   by complying with the portlet container's requirements, such as 
   
     
   implementing all SPIs.
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   The Portlet Container Invoker API, also called an entrance point, acts 
   
     
   as the portlet container's main calling interface. The API combines a 
   
     
   portlet container's lifecycle (init, destroy) with request-based 
   
     
   calling methods (initPage(), performTitle(), portletService(), and so 
   
     
   on). Because the portlet container calls a portlet in the end, the 
   
     
   method signature resembles the Portlet API's main portlet interface, 
   
     
   except
   
      that a portlet identifier must be passed. With this additional 
   
     
   portlet identifier, the container can determine the portlet and call 
   
     
   it accordingly.
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   Besides using the APIs to access the portlet container, the portal
   
     
   must implement SPIs defined for the portlet container. Therefore, 
   
     
   the RI introduces container services: pluggable components that can 
   
     
   be registered at the container to either extend or provide basic 
   
     
   functionality. The RI includes the following built-in container services 
   
     
   (the first four must be implemented to run the portlet container, while 
   
     
   the fifth is optional): 
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   
   
    <ul>
      
     
   
   
    <li>
      
      Information provider: Gives the portlet container information about 
   
     
        the portal and its framework. Only known information or information 
   
     
        that should be stored within the portal is present through this 
   
     
        interface. Such information includes URL generation with navigational 
   
     
        state, portlet context, portlet mode, and window-state handling
   
    </li>
   
     
   
   
    <li>
      
      Factory manager: Defines how to get an implementation through a 
   
     
        factory. (A normal portal should already own such an implementation.)
   
    </li>
   
     
   
   
    <li>
      
      Log service: Defines a logging facility. (A normal portal should 
   
     
        already own such an implementation.)
   
    </li>
   
     
   
   
    <li>
      
      Config service: Defines how to get configuration values. (A normal portal 
   
     
        should already own such an implementation.)
   
    </li>
   
     
   
   
    <li>
      
      Property manager (optional): A property manager interface implementation 
   
     
        lets a portal handle properties as defined in the JSR 168 specification.
   
    </li>
   
     
   
   
    </ul>
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   Strictly speaking, the Portlet Object Model also acts as an SPI, but has an 
   
     
   exceptional position among the SPIs. Therefore, don't consider it part of the 
   
     
   container services as it deals with all portlet objects and comprises a collection
   
     
   of interwoven interfaces.
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   
   
    <div align="center">
      
     
        
   
    <p>
      
    <a href="images/jw-0801-pluto_arch.jpg">
    <img src="images/jw-0801-pluto_arch-thumb.jpg" alt="Pluto Architecture" height="144" width="250" border="0">
      
    </img>
   </a>
  
    </p>
   
     
        
   
    <p>
      
    <b>
      
    <i>
      
    <font size="-1">
      
     Figure 2. The portlet container's architecture. Click on the picture to enlarge it
   
    </font>
   
    </i>
   
    </b>
   
    </p>
   
     
   
   
    </div>
   
     
   
   
    </blockquote>
   
     	   
   
     

   
    </p>
   
    <p>
      
    <strong>
      
     Portlet Deployment
   
    </strong>
   
     
   
   
    <blockquote>
      
     
   The portlet container can leverage the servlet container's functionality, upon 
   
     
   which the portlet container is built. To accomplish that, the portlet container 
   
     
   must inject servlet artifacts into each portlet-application war file, as Figure 
   
     
   3 shows. The portlet component, Deployment, takes the original war file, then 
   
     
   injects a new or modified web.xml and a servlet to wrap each portlet and uses 
   
     
   it as a calling point. Then the portlet deployment passes the modified war 
   
     
   file to the application server deployment, which deploys it into the 
   
     
   application server's system. During the portlet's invocation, the portlet 
   
     
   container calls the injected servlet as an entrance point into the deployed 
   
     
   portlet war file.
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   
   
    <div align="center">
      
     
       
   
    <p>
      
    <a href="images/jw-0801-RI_deploy.jpg">
    <img src="images/jw-0801-RI_deploy-thumb.jpg" alt="Deployment" height="170" width="250" border="0">
      
    </img>
   </a>
  
    </p>
   
     
       
   
    <p>
      
    <b>
      
    <i>
      
    <font size="-1">
      
     Figure 3. Portlet deployment in the RI. Click on thumbnail to view full-size image.
   
    </font>
   
    </i>
   
    </b>
   
    </p>
   
     
   
   
    </div>
   
     
   
   
    </blockquote>
   
     	   
   
     

   
    </p>
   
    <p>
      
    <strong>
      
     Pluto and the WSRP standard
   
    </strong>
   
     
   
   
    <blockquote>
      
     
   The JSR 168 aligns closely with the Web Services for Remote Portlets (WSRP) standard. 
   
     
   Both standards, which emerged at the same time, released open source implementations 
   
     
   capable of all necessary functions described in the respective specifications. 
   
     
   As a mutual goal, both standards strive to work well together. As a result, 
   
     
   the portlet container can run WSRP po
   
     rtlets as a consumer as well as a producer.
   
     
   
   
    </blockquote>
   
     

   
   
    <blockquote>
      
     
   Pluto must be able to run multiple portlet containers in one portal. Consequently, 
   
     
   Pluto's portlet container can be instantiated multiple times and, more importantly,
   
     
   it can be instrumented in different ways. Each portlet container, therefore, can 
   
     
   use different implementations for SPIs.
   
     
   
   
    </blockquote>
   
     

   
    </p>
   
    </div>
  
                  
                  
                  
                  
                  
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div id="footer">
          <table border="0" style="width:100%" cellpadding="4" cellspacing="0">
            
            <tr>
              <td>
                
                  
                    
                    
                      © 2003-2004, Apache Software Foundation
                    
                  
                  
                

                
              </td>
              
            </tr>
          </table>
        </div>
      </body>
    </html>
  